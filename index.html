<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุงููุตุฑููุงุช ุงูุฐูู ๐ฐ</title>
    <meta name="description" content="ุชุทุจูู ููุจ ูุชุชุจุน ุงููุตุฑููุงุช ุงูุดุฎุตูุฉ ูุน ุฑุจุท ุชูุบุฑุงู">
    <meta name="theme-color" content="#4f46e5">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐ฐ</text></svg>">
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- ุฎุท ุนุฑุจู -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ุงูุฅุดุนุงุฑุงุช -->
    <div id="notification" class="notification hidden">
        <i id="notification-icon"></i>
        <span id="notification-message"></span>
    </div>

    <!-- ูุถุน ุงูุชุญููู -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุงูุชุญููู...</p>
    </div>

    <!-- ุดุงุดุฉ ุงูุชุฑุญูุจ -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
            <div class="welcome-icon">
                <i class="fas fa-wallet"></i>
            </div>
            <h1>ูุธุงู ุงููุตุฑููุงุช ุงูุฐูู</h1>
            <p>ุชุชุจุน ูุตุฑููุงุชู ุนุจุฑ ุชูุบุฑุงู ูุจุณูููุฉ</p>
            <button id="start-btn" class="btn btn-primary btn-large">
                <i class="fas fa-play"></i> ุงุจุฏุฃ ุงูุขู
            </button>
            <div class="features">
                <div class="feature">
                    <i class="fas fa-paper-plane"></i>
                    <span>ุฑุจุท ุชูุบุฑุงู</span>
                </div>
                <div class="feature">
                    <i class="fas fa-chart-line"></i>
                    <span>ุชูุงุฑูุฑ ููุตูุฉ</span>
                </div>
                <div class="feature">
                    <i class="fas fa-bell"></i>
                    <span>ุชูุจููุงุช ููุฒุงููุฉ</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="app" class="app hidden">
        <!-- ุงูููุฏุฑ -->
        <header class="header">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-wallet"></i>
                    <h1>ุงููุตุฑููุงุช ุงูุฐูู</h1>
                    <div class="telegram-status" id="telegram-status">
                        <i class="fab fa-telegram"></i>
                        <span>ุบูุฑ ูุชุตู</span>
                    </div>
                </div>
                <div class="header-actions">
                    <button id="theme-toggle" class="icon-btn" title="ุชุจุฏูู ุงููุถุน">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="telegram-btn" class="icon-btn" title="ุฑุจุท ุชูุบุฑุงู">
                        <i class="fab fa-telegram"></i>
                    </button>
                    <button id="add-expense-btn-header" class="icon-btn" title="ุฅุถุงูุฉ ูุตุฑูู">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- ุฅุดุนุงุฑ ุฑุจุท ุชูุบุฑุงู -->
        <div id="telegram-notice" class="telegram-notice">
            <div class="notice-content">
                <i class="fab fa-telegram"></i>
                <div>
                    <h3>ุฑุจุท ุชูุบุฑุงู</h3>
                    <p>ุฃุถู ูุตุฑููุงุชู ุนุจุฑ ุฑุณุงุฆู ุชูุบุฑุงู! ุฃุฑุณู "ุตุฑูุช 150 ุจุทุงุทุณ" ููุจูุช</p>
                </div>
                <button id="connect-telegram-btn" class="btn btn-telegram">
                    <i class="fas fa-link"></i> ุฑุจุท ุชูุบุฑุงู
                </button>
            </div>
        </div>

        <!-- ุงูุฅุญุตุงุฆูุงุช -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-info">
                    <h3>ุฅุฌูุงูู ุงููุตุฑููุงุช</h3>
                    <p id="total-expenses" class="stat-value">0 ุฏ.ุฌ</p>
                    <span class="stat-period">ูุฐุง ุงูุดูุฑ</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="stat-info">
                    <h3>ุนุฏุฏ ุงููุตุฑููุงุช</h3>
                    <p id="expenses-count" class="stat-value">0</p>
                    <span class="stat-period">ุชู ุชุณุฌูููุง</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-tags"></i>
                </div>
                <div class="stat-info">
                    <h3>ุงููุฆุงุช</h3>
                    <p id="categories-count" class="stat-value">0</p>
                    <span class="stat-period">ูุฎุชููุฉ</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-chart-pie"></i>
                </div>
                <div class="stat-info">
                    <h3>ุงููุชูุณุท ุงููููู</h3>
                    <p id="daily-average" class="stat-value">0 ุฏ.ุฌ</p>
                    <span class="stat-period">ููู ููู</span>
                </div>
            </div>
        </div>

        <!-- ุฅุถุงูุฉ ูุตุฑูู ุณุฑูุน -->
        <div class="quick-add-expense">
            <h3><i class="fas fa-bolt"></i> ุฅุถุงูุฉ ูุตุฑูู ุณุฑูุน</h3>
            <div class="quick-form">
                <input type="number" id="quick-amount" placeholder="ุงููุจูุบ" min="0" step="0.01">
                <select id="quick-category">
                    <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
                    <option value="ุทุนุงู">ุทุนุงู</option>
                    <option value="ููุงุตูุงุช">ููุงุตูุงุช</option>
                    <option value="ููุงุชูุฑ">ููุงุชูุฑ</option>
                    <option value="ุชุณูู">ุชุณูู</option>
                    <option value="ุชุฑููู">ุชุฑููู</option>
                </select>
                <input type="text" id="quick-notes" placeholder="ููุงุญุธุงุช (ุงุฎุชูุงุฑู)">
                <button id="quick-add-btn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> ุฅุถุงูุฉ
                </button>
            </div>
        </div>

        <!-- ุงููุฆุงุช -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> ุชูุฒูุน ุงููุฆุงุช</h2>
            </div>
            <div id="categories-chart" class="categories-chart">
                <p class="empty-message">ูุง ุชูุฌุฏ ูุตุฑููุงุช ูุฐุง ุงูุดูุฑ</p>
            </div>
        </div>

        <!-- ุงููุตุฑููุงุช ุงูุญุฏูุซุฉ -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-history"></i> ุขุฎุฑ ุงููุตุฑููุงุช</h2>
            </div>
            <div id="recent-expenses" class="expenses-list">
                <div class="empty-state">
                    <i class="fas fa-wallet"></i>
                    <p>ูุง ุชูุฌุฏ ูุตุฑููุงุช ุจุนุฏ</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ูุตุฑูู -->
    <div id="expense-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ูุตุฑูู ุฌุฏูุฏ</h3>
                <button class="close-btn" data-modal="expense">&times;</button>
            </div>
            <div class="modal-body">
                <form id="expense-form">
                    <div class="form-group">
                        <label for="amount">
                            <i class="fas fa-money-bill"></i> ุงููุจูุบ (ุฏ.ุฌ)
                        </label>
                        <input type="number" id="amount" required min="0.01" step="0.01" placeholder="ุฃุฏุฎู ุงููุจูุบ">
                    </div>

                    <div class="form-group">
                        <label for="category">
                            <i class="fas fa-tag"></i> ุงููุฆุฉ
                        </label>
                        <div class="category-buttons">
                            <button type="button" class="category-btn" data-category="ุทุนุงู">
                                <i class="fas fa-utensils"></i> ุทุนุงู
                            </button>
                            <button type="button" class="category-btn" data-category="ููุงุตูุงุช">
                                <i class="fas fa-car"></i> ููุงุตูุงุช
                            </button>
                            <button type="button" class="category-btn" data-category="ููุงุชูุฑ">
                                <i class="fas fa-file-invoice"></i> ููุงุชูุฑ
                            </button>
                        </div>
                        <input type="text" id="custom-category" placeholder="ุฃู ุฃุฏุฎู ูุฆุฉ ุฌุฏูุฏุฉ">
                    </div>

                    <div class="form-group">
                        <label for="date">
                            <i class="fas fa-calendar"></i> ุงูุชุงุฑูุฎ
                        </label>
                        <input type="date" id="date" required>
                    </div>

                    <div class="form-group">
                        <label for="notes">
                            <i class="fas fa-sticky-note"></i> ุงูููุงุญุธุงุช (ุงุฎุชูุงุฑู)
                        </label>
                        <textarea id="notes" rows="3" placeholder="ุฃุถู ููุงุญุธุงุช ุนู ุงููุตุฑูู..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" data-modal="expense">
                            ุฅูุบุงุก
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> ุญูุธ ุงููุตุฑูู
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฑุจุท ุชูุบุฑุงู -->
    <div id="telegram-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fab fa-telegram"></i> ุฑุจุท ุจูุช ุชูุบุฑุงู</h3>
                <button class="close-btn" data-modal="telegram">&times;</button>
            </div>
            <div class="modal-body">
                <div class="telegram-config">
                    <!-- ุงูุฎุทูุฉ 1 -->
                    <div class="config-step">
                        <h4>ุงูุฎุทูุฉ 1: ุฃูุดุฆ ุจูุช ุชูุบุฑุงู</h4>
                        <ol>
                            <li>ุงุจุญุซ ุนู <a href="https://t.me/BotFather" target="_blank">@BotFather</a> ูู ุชูุบุฑุงู</li>
                            <li>ุฃุฑุณู <code>/newbot</code></li>
                            <li>ุงุชุจุน ุงูุชุนูููุงุช ูุฃูุดุฆ ุจูุช ุฌุฏูุฏ</li>
                            <li>ุงุญูุธ <strong>ุงูุชููู</strong> ุงูุฐู ูุนุทูู ุฅูุงู</li>
                        </ol>
                    </div>

                    <!-- ุงูุฎุทูุฉ 2 -->
                    <div class="config-step">
                        <h4>ุงูุฎุทูุฉ 2: ุงุญุตู ุนูู Chat ID</h4>
                        <ol>
                            <li>ุงุจุญุซ ุนู <a href="https://t.me/userinfobot" target="_blank">@userinfobot</a></li>
                            <li>ุฃุฑุณู <code>/start</code></li>
                            <li>ุงูุณุฎ <strong>Your Chat ID</strong></li>
                        </ol>
                    </div>

                    <!-- ุงูุฎุทูุฉ 3: ุญููู ุงูุฅุฏุฎุงู -->
                    <div class="config-step">
                        <h4>ุงูุฎุทูุฉ 3: ุฃุฏุฎู ุจูุงูุงุช ุงูุจูุช</h4>
                        
                        <div class="form-group">
                            <label for="bot-token">
                                <i class="fas fa-key"></i> ุชููู ุงูุจูุช (Bot Token)
                            </label>
                            <input type="password" id="bot-token" placeholder="ุฃุฏุฎู ุชููู ุงูุจูุช ููุง" dir="ltr">
                            <small>ูุซุงู: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz</small>
                        </div>

                        <div class="form-group">
                            <label for="chat-id">
                                <i class="fas fa-id-card"></i> ูุนุฑู ุงููุญุงุฏุซุฉ (Chat ID)
                            </label>
                            <input type="text" id="chat-id" placeholder="ุฃุฏุฎู ูุนุฑู ุงููุญุงุฏุซุฉ ููุง" dir="ltr">
                            <small>ูุซุงู: 123456789</small>
                        </div>

                        <div class="test-connection">
                            <h5>ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:</h5>
                            <input type="text" id="test-message" value="ุตุฑูุช 150 ุจุทุงุทุณ" placeholder="ุฑุณุงูุฉ ุงูุงุฎุชุจุงุฑ">
                            <button id="test-connection-btn" class="btn btn-secondary">
                                <i class="fas fa-wifi"></i> ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
                            </button>
                        </div>
                    </div>

                    <!-- ุฃูุซูุฉ ุงูุฑุณุงุฆู -->
                    <div class="message-examples">
                        <h5>ุฃูุซูุฉ ููุฑุณุงุฆู ุงูุชู ูููููุง ุงูุจูุช:</h5>
                        <div class="examples">
                            <code>ุตุฑูุช 150 ุจุทุงุทุณ</code>
                            <code>ุฏูุนุช 500 ููุงุชูุฑ ููุฑุจุงุก</code>
                            <code>ุงุดุชุฑูุช 250 ุฎุจุฒ</code>
                            <code>ููุงุตูุงุช 300 ุฏููุงุฑ</code>
                        </div>
                    </div>

                    <!-- ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช -->
                    <div class="config-actions">
                        <button id="save-telegram-btn" class="btn btn-primary">
                            <i class="fas fa-save"></i> ุญูุธ ุงูุฅุนุฏุงุฏุงุช
                        </button>
                        <button id="disconnect-telegram-btn" class="btn btn-danger">
                            <i class="fas fa-unlink"></i> ูุทุน ุงูุงุชุตุงู
                        </button>
                    </div>

                    <!-- ุญุงูุฉ ุงูุงุชุตุงู -->
                    <div id="connection-status" class="connection-status">
                        <i class="fas fa-circle"></i>
                        <span>ุบูุฑ ูุชุตู</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงูููุชุฑ -->
    <footer class="footer">
        <div class="footer-content">
            <p>ูุธุงู ุงููุตุฑููุงุช ุงูุฐูู &copy; <span id="current-year"></span></p>
            <p>ุจูุงูุงุชู ูุญููุธุฉ ูุญููุงู ุนูู ุฌูุงุฒู</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
